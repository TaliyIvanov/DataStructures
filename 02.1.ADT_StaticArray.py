"""
**Статический массив** — это структура данных, размер которой задаётся при создании и не может
изменяться в процессе работы программы. В отличие от динамических структур (например, списков в
Python), статический массив имеет фиксированное количество элементов.

В языках, таких как C или Java, для работы со статическими массивами выделяется фиксированный
блок памяти. В Python же встроенные списки (`list`) являются динамическими, но статический
массив можно эмулировать, например, используя **модуль `array`** или **кортеж (`tuple`)**.

Преимущества статического массива:
- Быстрый доступ к элементам по индексу (O(1)).
- Эффективное использование памяти, так как отсутствует перераспределение памяти при изменении размера.
- Предсказуемость — размер известен заранее.

Недостатки:
- Нельзя изменять размер — если потребуется больше элементов, придётся создавать новый массив.
- Ограниченная гибкость — нельзя легко добавлять или удалять элементы.
"""


class StaticArray:
    def __init__(self, size, values):
        # проверка на соответствие длины кол-ву значений
        if len(values) != size:
            raise ValueError('Wrong count of values!!!')
        self.size = size
        self.data = values[:] # Копируем список, чтобы избежать изменений

    # получить элемент по индексу
    def get(self, index):
        if not (0 <= index < self.size):
            raise ValueError('Index out of range')
        return self.data[index]

    # установить новое значение в массив
    def set(self, index, value):
        if not (0 <= index < self.size):
            raise ValueError('Index out of range')
        self.data[index] = value

    # Строковое представление массива
    def __str__(self):
        return f'StaticArray({self.data})'

    # Делаем объект итерируемым
    def __iter__(self):
        return iter(self.data)


# Пример использования
arr = StaticArray(5, [1, 2, 3, 4, 5])

print(arr)           # StaticArray([1, 2, 3, 4, 5])
print(arr.get(2))    # 3
arr.set(1, 10)
print(arr)           # StaticArray([1, 10, 3, 4, 5])

# Перебор массива
for num in arr:
    print(num, end=" ")  # 1 10 3 4 5

"""
Вывод:
StaticArray([1, 2, 3, 4, 5])
3
StaticArray([1, 10, 3, 4, 5])
1 10 3 4 5 
Process finished with exit code 0
"""